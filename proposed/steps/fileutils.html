<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Proposed File Utilities</title><meta charset="utf-8" /><meta name="generator" content="DocBook XSL 2.0 Stylesheets V2.0.20" /><link rel="stylesheet" type="text/css" href="/css/docbook.css" /><link rel="stylesheet" type="text/css" href="/css/docbook.css" /><link rel="stylesheet" type="text/css" href="/css/tabs.css" /><link rel="stylesheet" type="text/css" href="/css/website.css" /><link rel="stylesheet" type="text/css" href="/css/spec.css" /><link rel="icon" href="/graphics/icon.ico" type="image/ico" /><script type="text/javascript" src="https://docbook.github.io/release/2.0.20/resources/js/dbmodnizr.js"></script><link href="https://docbook.github.io/release/2.0.20/resources/css/prism.css" rel="stylesheet" type="text/css" /><link href="https://docbook.github.io/release/2.0.20/resources/css/db-prism.css" rel="stylesheet" type="text/css" /></head><body><div class="header">
<h1><img src="/images/exproc.png" alt="eXProc.org" /></h1>
</div><div class="navset" id="nav"><div class="hd"><ul><li id="home"><a href="/"><em>Home</em></a></li><li id="proposed.steps" class="on" title="selected"><a href="/proposed/steps/"><strong><em>Proposed Steps</em></strong></a></li><li id="proposed"><a href="/proposed/"><em>Other Proposals</em></a></li><li id="accepted"><a href="/accepted/"><em>Accepted</em></a></li></ul></div><div class="bd"><ul><li class=" first "><a href="/proposed/steps/">Overview</a></li><li id="proposed.steps.os" class="  "><a href="/proposed/steps/os.html">OS Utils</a></li><li id="proposed.steps.file" class="on  "><a href="/proposed/steps/fileutils.html">File Utils</a></li><li id="proposed.steps.other" class="  last"><a href="/proposed/steps/other.html">Other Steps</a></li></ul></div></div><article class="article"><h1>Proposed File Utilities</h1><p>This page collects proposed extension steps. Implementation welcome, but
contents subject to change at any time.</p><p>These steps are in the “proposed file utilities extension namespace”,
<code class="uri">http://exproc.org/proposed/steps/file</code>, identified by the prefix
“<code class="literal">pxf</code>”.</p><section id="copy" class="section"><div class="section-titlepage"><h2>pxf:copy</h2></div><p>Copies a file.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:copy</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">false</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">target</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                     </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">pxf:copy</code> copies the file named in
<code class="option">href</code> to the new name specified in
<code class="option">target</code>.
If the <code class="option">target</code> is a directory, the
step attempts to move the file into that directory, preserving its
base name.</p><p>If the copy is successful, the step returns a
<code class="tag-element">c:result</code> element containing the absolute URI of the target.
</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="copy.7" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="copy.7.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the file named in <code class="option">href</code> does not exist or
cannot be copied to the specified target.</td></tr></tbody></table></div></figure></section></section><section id="delete" class="section"><div class="section-titlepage"><h2>pxf:delete</h2></div><p>Deletes a file.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:delete</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">false</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">recursive</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>                 </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">pxf:delete</code> step attempts to delete the file or
directory named in <code class="option">href</code>.</p><p>If the file or directory is successfully deleted, the step
returns a <code class="tag-element">c:result</code> element containing the absolute URI of
the deleted file.
</p><p>If <code class="option">href</code> specifies a directory, it can only be
deleted if the <code class="option">recursive</code> option is
<code class="literal">true</code> or if the directory is empty.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="delete.8" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="delete.8.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the file named in <code class="option">href</code> does not exist or
cannot be deleted.</td></tr><tr><td><code class="code">err:FU02</code></td><td>Occurs
if the step attempts to delete a directory that is not
empty and the <code class="option">recursive</code> option is not
<code class="literal">true</code>.</td></tr></tbody></table></div></figure></section></section><section id="head" class="section"><div class="section-titlepage"><h2>pxf:head</h2></div><p>Returns the first few lines of text file.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:head</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">count</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                      </code><code class="comment">&lt;!-- </code><span class="opt-type">int</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>Returns the first <code class="option">count</code> lines of the file named
in <code class="option">href</code>. If <code class="option">count</code> is negative, the
step returns all <em>except</em> those first lines.</p><p>The step returns a <code class="tag-element">c:result</code> element containing one
<code class="tag-element">c:line</code> for each line. Lines are identified as described in
XML,
<a href="http://www.w3.org/TR/xml/#sec-line-ends">2.11 End-of-Line
Handling</a>.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="head.7" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="head.7.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the file named in <code class="option">href</code> does not exist or
cannot be read.</td></tr><tr><td><code class="code">err:FU03</code></td><td>Occurs
if the file named in <code class="option">href</code> does not appear to
be a text file. The exact conditions that constitute “does not appear to be”
are implementation-defined.</td></tr></tbody></table></div></figure></section></section><section id="info" class="section"><div class="section-titlepage"><h2>pxf:info</h2></div><p>Returns information about a file or directory.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:info</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">info</code> step returns information about the file or
directory named in <code class="option">href</code>.</p><p>The step
returns a <code class="tag-element">c:directory</code> for directories, a
<code class="tag-element">c:file</code> for ordinary files, or a <code class="tag-element">c:other</code> for other
kinds of filesystem objects. Implementations may also
return more specific types, for example <code class="tag-element">c:device</code>, so anything
other than <code class="tag-element">c:directory</code> or <code class="tag-element">c:file</code> must be
interpreted as “other”.
If the document doesn't exist, an empty sequence is returned.</p><p>The document element of the result, if there is one, will have
the following attributes:</p><figure id="info.7" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="33%" /><col class="tcol2" width="33%" /><col class="tcol3" width="33%" /></colgroup><thead><tr><th>Attribute</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>readable</td><td><span class="type">xs:boolean</span></td><td>“<code class="literal">true</code>” if the object is readable.</td></tr><tr><td>writable</td><td><span class="type">xs:boolean</span></td><td>“<code class="literal">true</code>” if the object file is writable.</td></tr><tr><td>hidden</td><td><span class="type">xs:boolean</span></td><td>“<code class="literal">true</code>” if the object is hidden.</td></tr><tr><td>last-modified</td><td><span class="type">xs:dateTime</span></td><td>The last modification time of the object expressed in UTC.</td></tr><tr><td>size</td><td><span class="type">xs:integer</span></td><td>The size of the object in bytes.</td></tr></tbody></table></div></figure><p>If the value of a particular attribute is unknown or inapplicable
for the particular kind of object, or in the case
of boolean attributes, if it's false, then the attribute is not present.
Additional implementation-defined attributes may be present, but they must
be in a namespace.</p><p>If the <code class="tag-attribute">href</code>
attribute specified is not a <code class="literal">file:</code>
URI, then the result is implementation-defined.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="info.11" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="info.11.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the file named in <code class="option">href</code> cannot be read.
</td></tr></tbody></table></div></figure></section></section><section id="mkdir" class="section"><div class="section-titlepage"><h2>pxf:mkdir</h2></div><p>Creates a directory.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:mkdir</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">false</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">pxf:mkdir</code> step creates a directory with the
name in <code class="option">href</code>. If the name
includes more than one directory component, all of the intermediate
components are created. The path separator is implementation-defined.
</p><p>The step returns a <code class="tag-element">c:result</code> element containing the
absolute URI of the directory created.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="mkdir.7" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="mkdir.7.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the directory named in <code class="option">href</code> cannot be created.
</td></tr></tbody></table></div></figure></section></section><section id="move" class="section"><div class="section-titlepage"><h2>pxf:move</h2></div><p>Moves (renames) a file or directory.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:move</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">false</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">target</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                     </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">pxf:move</code> step attempts to move (rename) the
file specified in the <code class="option">href</code> option to the new name
specified in the <code class="option">target</code> option.</p><p>If the <code class="option">target</code> is a directory, the
step attempts to move the file into that directory, preserving its
base name.</p><p>If the move is successful, the step returns a
<code class="tag-element">c:result</code> element containing the absolute URI of the
new name of the file. The original file is effectively removed.
</p><p>If the <code class="option">fail-on-error</code> option is
<code class="literal">true</code>, then the step will fail if a file with the
name specified in the <code class="option">target</code> option already exists,
or if the file specified in <code class="option">href</code> does not exist or
cannot be moved.</p><p>If the <code class="option">fail-on-error</code> option is
<code class="literal">false</code>, the step returns a <code class="tag-element">c:error</code>
element which may contain additional, implementation-defined
information about the nature of the error.</p><p>If the <code class="option">href</code> option specifies a directory, device,
other special kind of object, the results are
implementation-defined.</p></section><section id="tail" class="section"><div class="section-titlepage"><h2>pxf:tail</h2></div><p>Returns the last few lines of a text file.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:tail</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">count</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                      </code><code class="comment">&lt;!-- </code><span class="opt-type">int</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>Returns the last <code class="option">count</code> lines of the file named
in <code class="option">href</code>. If <code class="option">count</code> is negative, the
step returns all <em>except</em> those last lines.</p><p>The step returns a <code class="tag-element">c:result</code> element containing one
<code class="tag-element">c:line</code> for each line. Lines are identified as described in
XML,
<a href="http://www.w3.org/TR/xml/#sec-line-ends">2.11 End-of-Line
Handling</a>.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="tail.7" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="tail.7.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the file named in <code class="option">href</code> does not exist or
cannot be read.</td></tr><tr><td><code class="code">err:FU03</code></td><td>Occurs
if the file named in <code class="option">href</code> does not appear to
be a text file. The exact conditions that constitute “does not appear to be”
are implementation-defined.</td></tr></tbody></table></div></figure></section></section><section id="tempfile" class="section"><div class="section-titlepage"><h2>pxf:tempfile</h2></div><p>Creates a temporary file.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:tempfile</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">false</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">prefix</code><code>"</code><code>/&gt;</code><code>                                     </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">suffix</code><code>"</code><code>/&gt;</code><code>                                     </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">delete-on-exit</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">pxf:tempfile</code> step creates a temporary file. The
temporary file is guaranteed not to already exist when
<code class="code">pxf:tempfile</code> is called.</p><p>The file is created in the directory specified by the
<code class="option">href</code> option. If <code class="option">prefix</code> is specified,
the file's name will begin with that prefix. If
<code class="option">suffix</code> is specified, the file's name will end with
that suffix.</p><p>The step returns a <code class="tag-element">c:result</code> element containing the
absolute URI of the temporary file.</p><p>If the <code class="option">delete-on-exit</code> option is
<code class="literal">true</code>, then the temporary file will automatically be
deleted when the processor terminates.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="tempfile.9" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="tempfile.9.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if <code class="option">href</code> does not specify a directory or if the directory
does not exist.</td></tr><tr><td><code class="code">err:FU04</code></td><td>Occurs
if it is not possible to create a file in the <code class="option">href</code>
directory.</td></tr></tbody></table></div></figure></section></section><section id="touch" class="section"><div class="section-titlepage"><h2>pxf:touch</h2></div><p>Update the modification time of a file.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxf:touch</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">false</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">timestamp</code><code>"</code><code>/&gt;</code><code>                                  </code><code class="comment">&lt;!-- </code><span class="opt-type">xs:dateTime</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">fail-on-error</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>              </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="code">pxf:touch</code> step “touches” the file named in
<code class="option">href</code>. The file will be created if it does
not exist.</p><p>If <code class="option">timestamp</code> is specified, the modification time of
the file will be updated to the specified time. If unspecified, the current
date and time will be used.</p><p>The step returns a <code class="tag-element">c:result</code> element containing the
absolute URI of the touched file.</p><p>If an error occurs, the step fails if
<code class="option">fail-on-error</code> is <code class="literal">true</code>; otherwise,
the step returns a <code class="tag-element">c:error</code> element which may contain
additional, implementation-defined information about the nature of the
error.</p><section id="touch.8" class="section"><div class="section-titlepage"><h3>Errors</h3></div><figure id="touch.8.2" class="informaltable-wrapper"><div class="informaltable"><table border="0" style="border-collapse: collapse;border-top: 1px solid ; border-bottom: 1px solid ; border-left: 1px solid ; border-right: 1px solid ; "><colgroup><col class="tcol1" width="16.67%" /><col class="tcol2" width="83.33%" /></colgroup><thead><tr><th>Error</th><th>Description</th></tr></thead><tbody><tr><td><code class="code">err:FU01</code></td><td>Occurs
if the file named in <code class="option">href</code> does not exist or
if its timestamp cannot be changed.</td></tr></tbody></table></div></figure></section></section><footer>Last updated on 02 Oct 2016 at 03:54p.m. GMT-05:00 by Norman Walsh</footer></article><script src="https://docbook.github.io/release/2.0.20/resources/js/prism.js"></script></body></html>