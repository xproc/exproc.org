<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Other Proposed Steps</title><meta charset="utf-8" /><meta name="generator" content="DocBook XSL 2.0 Stylesheets V2.0.20" /><link rel="stylesheet" type="text/css" href="/css/docbook.css" /><link rel="stylesheet" type="text/css" href="/css/docbook.css" /><link rel="stylesheet" type="text/css" href="/css/tabs.css" /><link rel="stylesheet" type="text/css" href="/css/website.css" /><link rel="stylesheet" type="text/css" href="/css/spec.css" /><link rel="icon" href="/graphics/icon.ico" type="image/ico" /><script type="text/javascript" src="https://docbook.github.io/release/2.0.20/resources/js/dbmodnizr.js"></script><link href="https://docbook.github.io/release/2.0.20/resources/css/prism.css" rel="stylesheet" type="text/css" /><link href="https://docbook.github.io/release/2.0.20/resources/css/db-prism.css" rel="stylesheet" type="text/css" /></head><body><div class="header">
<h1><img src="/images/exproc.png" alt="eXProc.org" /></h1>
</div><div class="navset" id="nav"><div class="hd"><ul><li id="home"><a href="/"><em>Home</em></a></li><li id="proposed.steps" class="on" title="selected"><a href="/proposed/steps/"><strong><em>Proposed Steps</em></strong></a></li><li id="proposed"><a href="/proposed/"><em>Other Proposals</em></a></li><li id="accepted"><a href="/accepted/"><em>Accepted</em></a></li></ul></div><div class="bd"><ul><li class=" first "><a href="/proposed/steps/">Overview</a></li><li id="proposed.steps.os" class="  "><a href="/proposed/steps/os.html">OS Utils</a></li><li id="proposed.steps.file" class="  "><a href="/proposed/steps/fileutils.html">File Utils</a></li><li id="proposed.steps.other" class="on  last"><a href="/proposed/steps/other.html">Other Steps</a></li></ul></div></div><article class="article"><h1>Other Proposed Steps</h1><p>This page collects proposed extension steps. Implementation welcome, but
contents subject to change at any time.</p><p>These steps are in the “proposed extension namespace”, 
<code class="uri">http://exproc.org/proposed/steps</code>, identified by the prefix
“<code class="literal">pxp</code>”.</p><section id="nvdl" class="section"><div class="section-titlepage"><h2>pxp:nvdl</h2></div><p>A step for performing <a href="http://www.nvdl.org/">NVDL</a>
(Namespace-based Validation Dispatching Language) validation over
mixed-namespace documents.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:nvdl</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">nvdl</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">schemas</code><code>"</code> <code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">assert-valid</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>               </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <tt class="port">source</tt> document is validated using the namespace
dispatching rules contained in the <tt class="port">nvdl</tt> document.</p><p>The dispatching rules may contain URI references that point to
the actual schemas to be used. As long as these schemas are
accessible, it is not necessary to pass anything on the
<tt class="port">schemas</tt> port. However, if one or more schemas are
provided on the <tt class="port">schemas</tt> port, then these schemas
<span class="rfc2119">should</span> be used in validation.</p><p>This requirement is expressed only as a “should” and not a
“must” because XProc version 1.0 does not mandate that implementations
support caching of documents so that requests for a URI by one step
can automatically access the result of some other step if that result
had a base URI identical to the requested document.</p><p>However, it's not clear that the <tt class="port">schemas</tt> port has
any value if the implementation does not support this behavior.</p><p>The value of the <code class="option">assert-valid</code> option
<span class="rfc2119">must</span> be a boolean. It is a <em class="glossterm">dynamic error</em>
if the <code class="option">assert-valid</code> option is <code class="literal">true</code>
and the input document is not valid.</p><p>The output from this step is a copy of the input, possibly
augmented by application by schema processing. The output of this step
<span class="rfc2119">may</span> include PSVI annotations.</p></section><section id="unzip" class="section"><div class="section-titlepage"><h2>pxp:unzip</h2></div><p>A step for extracting information out of ZIP archives.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:unzip</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">file</code><code>"</code><code>/&gt;</code><code>                                       </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">content-type</code><code>"</code><code>/&gt;</code><code>                               </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The value of the <code class="option">href</code> option
<span class="rfc2119">must</span> be an IRI. It is a <em class="glossterm">dynamic
error</em> if the document so identified does not exist or
cannot be read.</p><p>The value of the <code class="option">file</code> option, if specified,
<span class="rfc2119">must</span> be the fully qualified path-name of a document
in the archive. It is <em class="glossterm">dynamic error</em> if the
value specified does not identify a file in the archive.</p><p>The output from the <code class="tag-element">pxp:unzip</code> step <span class="rfc2119">must</span>
conform to the
<a href="schemas/ziptoc.rnc">ziptoc.rnc</a> schema.
</p><p>If the <code class="option">file</code> option is specified, the selected file
in the archive is extracted and returned:</p><div class="itemizedlist"><ul><li><p>If the <code class="option">content-type</code>
is not specified, or if an XML content type is specified, the file is parsed
as XML and returned. It is a <em class="glossterm">dynamic error</em> if the
file is not well-formed XML.</p></li><li><p>If the <code class="option">content-type</code> specified is not an XML content
type, the file is base64 encoded and returned in a single <code class="tag-element">c:data</code>
element.</p></li></ul></div><p>If the <code class="option">file</code> option <em>is not</em> specified,
a table of contents for the archive is returned.</p><p>For example, the contents of the XML Calabash 0.8.5 distribution archive
might be reported like this:</p><figure id="unzip.11" class="informalexample-wrapper"><div class="informalexample"><pre class="programlisting language-none"><code>&lt;c:zipfile xmlns:c="http://www.w3.org/ns/xproc-step"
           href="http://xmlcalabash.com/download/calabash-0.8.5.zip"&gt;
   &lt;c:directory name="calabash-0.8.5/" date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:directory name="calabash-0.8.5/docs/" date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="11942" size="36677" name="calabash-0.8.5/docs/CDDL+GPL.txt"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="928" size="2110" name="calabash-0.8.5/docs/ChangeLog"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="6817" size="17987" name="calabash-0.8.5/docs/GPL.txt"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="494" size="830" name="calabash-0.8.5/docs/NOTICES"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:directory name="calabash-0.8.5/lib/" date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="389650" size="407421" name="calabash-0.8.5/lib/calabash.jar"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="1237" size="2493" name="calabash-0.8.5/README"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:directory name="calabash-0.8.5/xpl/" date="2008-11-04T19:29:20.000-05:00"/&gt;
   &lt;c:file compressed-size="175" size="255" name="calabash-0.8.5/xpl/pipe.xpl"
           date="2008-11-04T19:29:20.000-05:00"/&gt;
&lt;/c:zipfile&gt;</code></pre></div></figure></section><section id="zip" class="section"><div class="section-titlepage"><h2>pxp:zip</h2></div><p>A step for creating ZIP archives.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:zip</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code> <code class="attr sequence-attr">sequence</code><code>="</code><code class="value sequence-value">true</code><code>"</code> <code class="attr primary-attr">primary</code><code>="</code><code class="value primary-value">true</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">manifest</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">compression-method</code><code>"</code><code>/&gt;</code><code>                         </code><code class="comment">&lt;!-- </code><span class="opt-type">"stored" | "deflated"</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">compression-level</code><code>"</code><code>/&gt;</code><code>                          </code><code class="comment">&lt;!-- </code><span class="opt-type">"smallest" | "fastest" | "default" | "huffman" | "none"</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">command</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'update'</code><code>"</code><code>/&gt;</code><code>                  </code><code class="comment">&lt;!-- </code><span class="opt-type">"update" | "freshen" | "create" | "delete"</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The ZIP archive is identified by the <code class="option">href</code>. The <code class="option">manifest</code>
(described below) provides the list of files to be processed in the archive.
The <code class="option">command</code>
indicates the nature of the processing: “<code class="literal">update</code>”, “<code class="literal">freshen</code>”,
“<code class="literal">create</code>”, or “<code class="literal">delete</code>”.</p><p>If files are added to the archive,
<code class="option">compression-method</code> indicates how they should be added: “<code class="literal">stored</code>”
or “<code class="literal">deflated</code>”. For deflated files, the <code class="option">compression-level</code> identifies
the kind of compression: “<code class="literal">smallest</code>”, “<code class="literal">fastest</code>”,
“<code class="literal">default</code>”, “<code class="literal">huffman</code>”, or “<code class="literal">none</code>”.</p><p>The entries identified by the <code class="option">manifest</code> are processed. The manifest
must conform to the following schema:</p><pre class="programlisting language-none"><code>default namespace c="http://www.w3.org/ns/xproc-step"

start = zip-manifest

zip-manifest =
   element c:zip-manifest {
      entry*
   }

entry =
   element c:entry {
      attribute name { text }
    &amp; attribute href { text }
    &amp; attribute comment { text }?
    &amp; attribute method { "deflated" | "stored" }
    &amp; attribute level { "smallest" | "fastest" | "huffman" | "default" | "none" }
      empty
   }</code></pre><p>For example:</p><pre class="programlisting language-none"><code>&lt;zip-manifest xmlns="http://www.w3.org/ns/xproc-step"&gt;
  &lt;entry name="file1.xml" href="http://example.org/file1.xml" comment="An example file"/&gt;
  &lt;entry name="path/to/file2.xml" href="http://example.org/file2.xml" method="stored"/&gt;
&lt;/zip-manifest&gt;</code></pre><p>If the <code class="option">command</code> is “<code class="literal">delete</code>”, then <code class="filename">file1.xml</code>
and <code class="filename">path/to/file2.xml</code> will be deleted from the archive. Otherwise, the
file that appears on the <tt class="port">source</tt> port that has the base URI
<code class="uri">http://example.org/file1.xml</code> will be stored in the archive as <code class="filename">file1.xml</code> (using
the default method and level),
the file that appears on the <tt class="port">source</tt> port that has the base URI
<code class="uri">http://example.org/file2.xml</code> will be stored in the archive as
<code class="filename">path/to/file2.xml</code> without being compressed.</p><p>A <code class="tag-element">c:zipfile</code> description of the archive content is produced on the
<tt class="port">result</tt> port.</p></section><section id="gunzip" class="section"><div class="section-titlepage"><h2>pxp:gunzip</h2></div><div class="important admonition"><h3>Important</h3><div class="admonition-body"><p>Deprecated: See <a href="#uncompress">pxp:uncompress</a>.</p></div></div><p>A step for expanding gzipped data.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:gunzip</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>If the document that appears on the <tt class="port">source</tt> port is
<code class="literal">base64</code> encoded, this step will attempt to decode and
<span class="application">gunzip</span> the data. As a convenience, if the data
is not encoded, it is simply passed through, like the <code class="tag-element">p:identity</code>
step.</p><p>It is a <em class="glossterm">dynamic error</em> if the resulting, decoded
and expanded data is not a well-formed XML document.</p></section><section id="gzip" class="section"><div class="section-titlepage"><h2>pxp:gzip</h2></div><div class="important admonition"><h3>Important</h3><div class="admonition-body"><p>Deprecated: See <a href="#compress">pxp:compress</a>.</p></div></div><p>A step for storing gzip compressed data.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:gzip</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code><code>/&gt;</code><code>                                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">byte-order-mark</code><code>"</code><code>/&gt;</code><code>                            </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">cdata-section-elements</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">''</code><code>"</code><code>/&gt;</code><code>         </code><code class="comment">&lt;!-- </code><span class="opt-type">ListOfQNames</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">doctype-public</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">doctype-system</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">encoding</code><code>"</code><code>/&gt;</code><code>                                   </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">escape-uri-attributes</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>     </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">include-content-type</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>       </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">indent</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>                    </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">media-type</code><code>"</code><code>/&gt;</code><code>                                 </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">method</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'xml'</code><code>"</code><code>/&gt;</code><code>                      </code><code class="comment">&lt;!-- </code><span class="opt-type">QName</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">normalization-form</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'none'</code><code>"</code><code>/&gt;</code><code>         </code><code class="comment">&lt;!-- </code><span class="opt-type">NormalizationForm</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">omit-xml-declaration</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>       </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">standalone</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'omit'</code><code>"</code><code>/&gt;</code><code>                 </code><code class="comment">&lt;!-- </code><span class="opt-type">"true" | "false" | "omit"</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">undeclare-prefixes</code><code>"</code><code>/&gt;</code><code>                         </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">version</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'1.0'</code><code>"</code><code>/&gt;</code><code>                     </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="tag-element">pxp:gzip</code> step serializes the document that appears on its
<tt class="port">source</tt> port and compresses it with <span class="application">gzip</span>.
If the input document is <code class="literal">base64</code> encoded, it is decoded and
the corresponding bytes are compressed.
</p><p>If the <code class="tag-attribute">href</code> attribute is present, the step attempts
to store the compressed data to the IRI specified. In this case, it produces a
<code class="tag-element">c:result</code> element on its <tt class="port">result</tt> port that contains the
IRI where the data was stored.</p><p>If the
<code class="tag-attribute">href</code> attribute is not present, the step returns
the compressed data in a <code class="literal">base64</code> encoded <code class="tag-element">c:data</code> element
with the content type “<code class="literal">application/x-gzip</code>”.
</p></section><section id="compress" class="section"><div class="section-titlepage"><h2>pxp:compress</h2></div><p>A step for storing compressed data.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:compress</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">href</code><code>"</code><code>/&gt;</code><code>                                       </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">compression-method</code><code>"</code><code>/&gt;</code><code>                         </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">byte-order-mark</code><code>"</code><code>/&gt;</code><code>                            </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">cdata-section-elements</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">''</code><code>"</code><code>/&gt;</code><code>         </code><code class="comment">&lt;!-- </code><span class="opt-type">ListOfQNames</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">doctype-public</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">doctype-system</code><code>"</code><code>/&gt;</code><code>                             </code><code class="comment">&lt;!-- </code><span class="opt-type">anyURI</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">encoding</code><code>"</code><code>/&gt;</code><code>                                   </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">escape-uri-attributes</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>     </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">include-content-type</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>       </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">indent</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'false'</code><code>"</code><code>/&gt;</code><code>                    </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">media-type</code><code>"</code><code>/&gt;</code><code>                                 </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">method</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'xml'</code><code>"</code><code>/&gt;</code><code>                      </code><code class="comment">&lt;!-- </code><span class="opt-type">QName</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">normalization-form</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'none'</code><code>"</code><code>/&gt;</code><code>         </code><code class="comment">&lt;!-- </code><span class="opt-type">NormalizationForm</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">omit-xml-declaration</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'true'</code><code>"</code><code>/&gt;</code><code>       </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">standalone</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'omit'</code><code>"</code><code>/&gt;</code><code>                 </code><code class="comment">&lt;!-- </code><span class="opt-type">"true" | "false" | "omit"</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">undeclare-prefixes</code><code>"</code><code>/&gt;</code><code>                         </code><code class="comment">&lt;!-- </code><span class="opt-type">boolean</span><code class="comment"> --&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">version</code><code>"</code> <code class="attr select-attr">select</code><code>="</code><code class="value select-value">'1.0'</code><code>"</code><code>/&gt;</code><code>                     </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The <code class="tag-element">pxp:compress</code> step serializes the document that appears on its
<tt class="port">source</tt> port and compresses it.
If the input document is <code class="literal">base64</code> encoded, it is decoded and
the corresponding bytes are compressed.
</p><p>The <code class="option">compression-method</code> option can be used to identify the
compression method used. Suggested values are
“<code class="literal">bzip2</code>”,
“<code class="literal">compress</code>”,
“<code class="literal">gzip</code>”, etc. If unspecified, the default method is
<em class="glossterm">implementation defined</em>.</p><div class="note admonition"><h3>Note</h3><div class="admonition-body"><p>Would it be better to specify a default? Perhaps <code class="literal">gzip</code>?
</p></div></div><p>It is a <em class="glossterm">dynamic error</em> if the method is
unrecognized.</p><p>If the <code class="tag-attribute">href</code> attribute is present, the step attempts
to store the compressed data to the IRI specified. In this case, it produces a
<code class="tag-element">c:result</code> element on its <tt class="port">result</tt> port that contains the
IRI where the data was stored.</p><p>If the
<code class="tag-attribute">href</code> attribute is not present, the step returns
the compressed data in a <code class="literal">base64</code> encoded <code class="tag-element">c:data</code> element
with an appropriate <code class="literal">content-type</code>.
</p></section><section id="uncompress" class="section"><div class="section-titlepage"><h2>pxp:uncompress</h2></div><p>A step for expanding compressed data.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:uncompress</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-opt"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">compression-method</code><code>"</code><code>/&gt;</code><code>                         </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>If the document that appears on the <tt class="port">source</tt> port is
<code class="literal">base64</code> encoded, this step will decode and attempt to
uncompress the data. As a convenience, if the data is not encoded, the
XML document is simply passed through, like the <code class="tag-element">p:identity</code> step.</p><p>The <code class="option">compression-method</code> option can be used to identify the
compression method used. Suggested values are
“<code class="literal">bzip2</code>”,
“<code class="literal">compress</code>”,
“<code class="literal">gzip</code>”, etc. If unspecified, implementations are free
to attempt to deduce the method from the data.</p><p>It is a <em class="glossterm">dynamic error</em> if:</p><div class="itemizedlist"><ul><li><p>the compression method is unrecognized or
</p></li><li><p>the resulting, decoded and expanded data is not a well-formed
XML document.</p></li></ul></div></section><section id="set-base-uri" class="section"><div class="section-titlepage"><h2>pxp:set-base-uri</h2></div><p>A step for changing the base URI of a document.</p><p class="element-syntax element-syntax-declare-step-opt"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">pxp:set-base-uri</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:input</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">source</code><code>"</code><code>/&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code><code>/&gt;</code></span><br />     <span class="opt-req"><code>&lt;p:option</code> <code class="attr name-attr">name</code><code>="</code><code class="value name-value">uri</code><code>"</code> <code class="attr required-attr">required</code><code>="</code><code class="value required-value">true</code><code>"</code><code>/&gt;</code><code>                        </code><code class="comment">&lt;!-- </code><span class="opt-type">string</span><code class="comment"> --&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p><p>The document that appears on the <tt class="port">source</tt> port is copied
to the <tt class="port">result</tt> port. The base URI of the copied document will
be the URI specified in the <code class="option">uri</code> option. If the URI specified
is relative, it will be made absolute with respect to the base URI of
the option element.</p></section><footer>Last updated on 02 Oct 2016 at 03:54p.m. GMT-05:00 by Norman Walsh</footer></article><script src="https://docbook.github.io/release/2.0.20/resources/js/prism.js"></script></body></html>